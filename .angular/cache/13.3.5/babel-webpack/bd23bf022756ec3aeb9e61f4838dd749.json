{"ast":null,"code":"import _classCallCheck from \"/Users/troihicks/Shopify-Internship-Challenge/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/troihicks/Shopify-Internship-Challenge/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { Observable } from 'rxjs';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { environment } from '../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport var PoemService = /*#__PURE__*/function () {\n  function PoemService(httpClient) {\n    _classCallCheck(this, PoemService);\n\n    this.httpClient = httpClient;\n    this.poem_api_url = 'https://api.openai.com/v1/engines/text-curie-001/completions';\n  }\n\n  _createClass(PoemService, [{\n    key: \"getPoem\",\n    value: function getPoem(text) {\n      var data = {\n        prompt: text,\n        temperature: 0.5,\n        max_tokens: 64,\n        top_p: 1.0,\n        frequency_penalty: 0.0,\n        presence_penalty: 0.0\n      };\n      var header = new HttpHeaders().set('Authorization', environment.OPEN_API_KEY).set('Content-type', 'Application/json');\n      var body = JSON.stringify(data);\n      return this.httpClient.post(this.poem_api_url, body, {\n        headers: header\n      }); // .pipe(\n      //   map((resp: any) => resp.json()),\n      //   catchError((error) => throwError(error))\n      // );\n    }\n  }]);\n\n  return PoemService;\n}();\n\nPoemService.ɵfac = function PoemService_Factory(t) {\n  return new (t || PoemService)(i0.ɵɵinject(i1.HttpClient));\n};\n\nPoemService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: PoemService,\n  factory: PoemService.ɵfac,\n  providedIn: 'any'\n});","map":{"version":3,"sources":["/Users/troihicks/Shopify-Internship-Challenge/src/app/poem.service.ts"],"names":["Observable","HttpClient","HttpHeaders","environment","i0","i1","PoemService","httpClient","poem_api_url","text","data","prompt","temperature","max_tokens","top_p","frequency_penalty","presence_penalty","header","set","OPEN_API_KEY","body","JSON","stringify","post","headers","ɵfac","PoemService_Factory","t","ɵɵinject","ɵprov","ɵɵdefineInjectable","token","factory","providedIn"],"mappings":";;AAAA,SAASA,UAAT,QAA2B,MAA3B;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,sBAAxC;AACA,SAASC,WAAT,QAA4B,6BAA5B;AACA,OAAO,KAAKC,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,sBAApB;AACA,WAAaC,WAAb;AACI,uBAAYC,UAAZ,EAAwB;AAAA;;AACpB,SAAKA,UAAL,GAAkBA,UAAlB;AACA,SAAKC,YAAL,GAAoB,8DAApB;AACH;;AAJL;AAAA;AAAA,WAKI,iBAAQC,IAAR,EAAc;AACV,UAAMC,IAAI,GAAG;AACTC,QAAAA,MAAM,EAAEF,IADC;AAETG,QAAAA,WAAW,EAAE,GAFJ;AAGTC,QAAAA,UAAU,EAAE,EAHH;AAITC,QAAAA,KAAK,EAAE,GAJE;AAKTC,QAAAA,iBAAiB,EAAE,GALV;AAMTC,QAAAA,gBAAgB,EAAE;AANT,OAAb;AAQA,UAAIC,MAAM,GAAG,IAAIf,WAAJ,GAAkBgB,GAAlB,CAAsB,eAAtB,EAAuCf,WAAW,CAACgB,YAAnD,EAAiED,GAAjE,CAAqE,cAArE,EAAqF,kBAArF,CAAb;AACA,UAAME,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAeZ,IAAf,CAAb;AACA,aAAO,KAAKH,UAAL,CACFgB,IADE,CACG,KAAKf,YADR,EACsBY,IADtB,EAC4B;AAC/BI,QAAAA,OAAO,EAAEP;AADsB,OAD5B,CAAP,CAXU,CAeV;AACA;AACA;AACA;AACH;AAxBL;;AAAA;AAAA;;AA0BAX,WAAW,CAACmB,IAAZ,GAAmB,SAASC,mBAAT,CAA6BC,CAA7B,EAAgC;AAAE,SAAO,KAAKA,CAAC,IAAIrB,WAAV,EAAuBF,EAAE,CAACwB,QAAH,CAAYvB,EAAE,CAACJ,UAAf,CAAvB,CAAP;AAA4D,CAAjH;;AACAK,WAAW,CAACuB,KAAZ,GAAoB,aAAczB,EAAE,CAAC0B,kBAAH,CAAsB;AAAEC,EAAAA,KAAK,EAAEzB,WAAT;AAAsB0B,EAAAA,OAAO,EAAE1B,WAAW,CAACmB,IAA3C;AAAiDQ,EAAAA,UAAU,EAAE;AAA7D,CAAtB,CAAlC","sourcesContent":["import { Observable } from 'rxjs';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { environment } from '../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class PoemService {\n    constructor(httpClient) {\n        this.httpClient = httpClient;\n        this.poem_api_url = 'https://api.openai.com/v1/engines/text-curie-001/completions';\n    }\n    getPoem(text) {\n        const data = {\n            prompt: text,\n            temperature: 0.5,\n            max_tokens: 64,\n            top_p: 1.0,\n            frequency_penalty: 0.0,\n            presence_penalty: 0.0,\n        };\n        let header = new HttpHeaders().set('Authorization', environment.OPEN_API_KEY).set('Content-type', 'Application/json');\n        const body = JSON.stringify(data);\n        return this.httpClient\n            .post(this.poem_api_url, body, {\n            headers: header,\n        });\n        // .pipe(\n        //   map((resp: any) => resp.json()),\n        //   catchError((error) => throwError(error))\n        // );\n    }\n}\nPoemService.ɵfac = function PoemService_Factory(t) { return new (t || PoemService)(i0.ɵɵinject(i1.HttpClient)); };\nPoemService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: PoemService, factory: PoemService.ɵfac, providedIn: 'any' });\n"]},"metadata":{},"sourceType":"module"}